<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>03-new(01)_this</title>
    <script type="text/javascript">
  
      var Person01 = function(){
        this.name = 'this is it';
      }          
    
      var o1 = new Person01();
      //alert(o1.name === 'this is it')
   
      var Person02 = function(){
        this.name = 'this is it';
        var that = {};
        that.name = 'that is good';
        return that;
      }
    
      var o = new Person02();
      //alert(o.name === 'that is good')


      //스스로를 호출하는 생성자
      //new 로 호출하는 경우와 그렇지 않은경우의 차이점을 없애기 위해 사용
      var Person03 = function(){
        if(!(this instanceof Person03)) { // if(this ! instanceof arguments.callee)
        return new Person03();  //   return new arguments.callee
      }
      
      this.name = 'this is it'
      }
      
      var o = Person03();
      
      alert(o.name) // === 'this is good'
            
    </script>
    <meta name="author" content="johnson" />
    <!-- Date: 2012-01-18 -->
  </head>
  <body></body>
</html>
