<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>13-객체생성패턴(04)_모듈패턴_생성자</title>
    <script type="text/javascript">
      window.onload = function() {
        var MYAPP = {};

        MYAPP.namespace = function(psNameSpace) {
          var vaNm = psNameSpace.split('.'), parent = MYAPP, i, vnLength;

          if(vaNm[0] === 'MYAPP') {//좀더 좋은 방법은 없는가??
            vaNm = vaNm.slice(1);
          }

          for( i = 0, vnLength = vaNm.length; i < vnLength; i++) {
            if(!parent[vaNm[i]])
              parent[vaNm[i]] = {};
            parent = parent[vaNm[i]];
          }
        }

        MYAPP.namespace('MYAPP.utils.module');
        MYAPP.utils.module.gl1 = (function(app, global){
          //전역객체에 대한 참조와
          //전역 애플리케이션 네임스페이스 객체에 대한 참조를 지역화 시킨다.
          return global;
        })(MYAPP, window);
        
        MYAPP.utils.module.gl2 = (function(app, global){
          //전역객체에 대한 참조와
          //전역 애플리케이션 네임스페이스 객체에 대한 참조를 지역화 시킨다.
          return global;
        })(MYAPP, this);

        alert('MYAPP.utils.module.gl1 === window : ' + (MYAPP.utils.module.gl1 === window) +'\n' +
              'MYAPP.utils.module.gl2 === window : ' + (MYAPP.utils.module.gl2 === window)  )
      
      };

    </script>
  </head>
  <body></body>
</html>